(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.join"],{e636:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Joining...")]),t.auth?t._e():r("b-form",{on:{submit:t.submit}},[r("b-form-group",{attrs:{label:"Guest Name","label-for":"guestName",description:"This is the name that your opponent will see."}},[r("b-form-input",{attrs:{id:"guestName",type:"text",required:""},model:{value:t.guestName,callback:function(e){t.guestName=e},expression:"guestName"}})],1),r("b-button",{attrs:{type:"primary",variant:"primary"}},[t._v("Submit")])],1)],1)},n=[],i=r("9ab4"),a=r("2b0e"),o=a["a"].extend({name:"Join",data:function(){return{auth:!1,guestName:""}},created:function(){return i["a"](this,void 0,void 0,function(){var t;return i["b"](this,function(e){switch(e.label){case 0:return t=this,[4,this.$http.head("/user")];case 1:return t.auth=e.sent().isSuccess,this.auth?[4,this.join()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}})})},methods:{submit:function(){return i["a"](this,void 0,void 0,function(){var t,e,r,s;return i["b"](this,function(n){switch(n.label){case 0:return[4,this.$http.post("/auth/guest",{name:this.guestName})];case 1:return t=n.sent(),t.isError?(console.error(t),this.$router.replace("/"),[2]):[4,this.$http.get("/user")];case 2:return t=n.sent(),t.isError?(console.error(t),[2]):(e=t.data,r=e.id,s=e.name,this.$user={id:r,name:s},[4,this.join()]);case 3:return n.sent(),[2]}})})},join:function(){return i["a"](this,void 0,void 0,function(){var t;return i["b"](this,function(e){switch(e.label){case 0:return[4,this.$http.post("/room/join/",{token:this.$route.params.token})];case 1:return t=e.sent(),t.isSuccess?(this.$router.replace("/room/"),[3,6]):[3,2];case 2:return 400!==t.status?[3,5]:[4,this.$http.post("/room/leave")];case 3:return e.sent(),[4,this.join()];case 4:return e.sent(),[3,6];case 5:console.error(t),this.$router.replace("/"),e.label=6;case 6:return[2]}})})}}}),u=o,c=r("2877"),h=Object(c["a"])(u,s,n,!1,null,null,null);h.options.__file="Join.vue";e["default"]=h.exports}}]);
//# sourceMappingURL=app.join.9dd4d8ac.js.map